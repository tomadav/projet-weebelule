{% extends 'layout.html.twig' %}

{# Block de titre défini dans base.html.twig #}
{% block title %}annonce {% endblock %}

{# Fil d'Ariane #}
{% set active = 'annonce' %}

{% block contenu %}
<div class="row">
    <div class="col-xs-6 col-xs-push-3" name="container">
        <h2 class="text-center">Publier son annonce</h2 >
        <form action="{{ path ('weebelule_annonce_post') }}" class="form-horizontal" method="post">

            <!-- Titre de l'Annonce et Catégorie -->
            <div class="form-group">
                <div class="col-xs-12">
                    <label for="titre">Titre</label>
                    <input id="titre" name="TITREANNONCE" required class="form-control"
                        type="text" placeholder="Titre de l'annonce">
                </div>
                <div class="col-xs-12">
                    <label for="categorie_annonce">Catégories</label>
                    <select id="categorie_annonce" name="IDSCATEGORIE"  class="form-control" placeholder="sous-catégorie">
                    <optgroup label="MATÉRIEL">
                      <option value="10"> Ameublement & Déco </option>
                      <option value="11" > Électromenager </option>
                      <option value="12" > Bricolage & Jardinage </option>
                      <option value="13" > Puériculture </option>
                      <option value="14" > Sport & Loisirs </option>
                    </optgroup>
                    <optgroup label="CULTURE">
                      <option value="20"> Livres </option>
                      <option value="21"> Comics & BD </option>
                      <option value="22"> Films & Musique </option>
                      <option value="23"> Multimedia </option>
                      <option value="24"> Instruments de Musique </option>
                    </optgroup>
                    <optgroup label="MODE">
                      <option value="30" > Habillement Homme </option>
                      <option value="31" > Habillement Femme </option>
                      <option value="32" > Habillement Enfant </option>
                      <option value="33" > Accessoires </option>
                      <option value="34" > Chaussures </option>
                    </optgroup>
                    <optgroup label="SERVICE À DOMICILE">
                      <option value="40" > Bricolage </option>
                      <option value="41" > Mécanique </option>
                      <option value="42" > Aide aux Seniors </option>
                      <option value="43" > Aide Ménagère </option>
                      <option value="44" > Garde d'Enfants </option>
                      <option value="45" > Démenagement </option>
                      <option value="46" > Aide Informatique </option>
                      <option value="47" > Soutien Scolaire </option>
                      <option value="48" > Beauté </option>
                      <option value="49" > Administratif </option>
                    </optgroup>
                    <optgroup label="VIVRE ENSEMBLE">
                      <option value="50" > Coaching </option>
                      <option value="51" > Covoiturage </option>
                      <option value="52" > Randonnée </option>
                      <option value="53" > Sorties Enfants </option>
                      <option value="54" > Sorties Sportives </option>
                    </optgroup>
                    <optgroup label="VACANCES">
                      <option value="60" > Garde d'Animaux </option>
                      <option value="61" > Services en votre abscence </option>
                      <option value="62" > Home-Sitting </option>
                      <option value="63" > Échange de Maison </option>
                      <option value="64" > Voyage </option>
                    </optgroup>
                    <optgroup label="JE RECHERCHE">
                      <option> ... </option>
                    </optgroup>
                    </select>

                </div>
            </div>

            <div class="form-group">
              <div class="col-xs-12">
                <label for="prix">Valeur(en Weebs)</label>
                <input id="prix" name="VALEURANNONCE" required class="form-control" type="text" value="0" >
                <p class="help-block">0 si vous le donnez gratuitement </p>
              </div>
              <div class="col-xs-12">
                <label for="description">Description</label>
                <textarea class="form-control" id="description" name="CONTENUANNONCE" height="1" placeholder="Description de la proposition..."></textarea>
            </div>
          </div>
          <!-- Adresse -->
          <div class="form-group">
              <div class="col-xs-12">
                <label for="Adresse">Adresse</label>
                  <input name="Adresse" id="googlePlace" required class="form-control"
                      type="text" placeholder="Saisissez votre adresse">
              </div>
          </div>
          <div class="form-group">
              <!-- Numéro et Nom de Rue -->
              <div class="col-sm-6">
                  <input name="numero" id="Adresse" required class="form-control"
                      type="hidden" placeholder="Adresse">
              </div>
              <div class="col-sm-3">
                  <input name="route" id="CodePostal" required class="form-control"
                      type="hidden" placeholder="CP">
              </div>
              <div class="col-sm-3">
                  <input name="CP" id="Ville" required class="form-control"
                      type="hidden" placeholder="Ville">
              </div>
          </div>
            <div class="form-group" name="PHOTOANNONCE">

              <div class="col-xs-12">


                <div id="feat_image">
                  <label class="control-label" for="edit-field-category-und"> Image Principale </label>
                  <div id="featIMG" class="option_item">
                    <div class="my-account-author-image">
                      <img class="author-avatar" src="" alt="">


                    </div>
                    <div class="full-width-button">

                        <a class="upload-feat-image" href="#">
                        <i class="fa fa-cloud-upload"></i>
                        <label for="icone">
                        Télécharger une nouvelle image
                        </label>
                      </a>
                      <input type="file" class="dropify" name="icone" id="icone" />
                    </div>
                    <br>
                    <div class="button_del_feat_image full-width-button">
                      <a href="" accesskey="&H74">
                      <i class="fa fa-trash-o"></i>
                      Effacer l'image (F5)
                      </a>
                    </div>
                  </div> <!--fin featIMG-->



                    <div id="images_criteria">
                      <label for="edit-field-category-und" class="control-label">Autres Photos</label>
                    </div>
                    <div class="full-width-button">

                        <a class="upload-feat-image" href="#">
                        <i class="fa fa-cloud-upload"></i>
                        <label for="icone">
                        Télécharger une nouvelle image
                        </label>
                      </a>
                      <input type="file" class="" name="icone" id="icone" />
                    </div>
                    <br>
                    <div class="button_del_feat_image full-width-button">
                      <a href="" accesskey="&H74">
                      <i class="fa fa-trash-o"></i>
                      Effacer l'image (F5)
                      </a>
                    </div>
                    <div class="full-width-button">

                        <a class="upload-feat-image" href="#">
                        <i class="fa fa-cloud-upload"></i>
                        <label for="icone">
                        Télécharger une nouvelle image
                        </label>
                      </a>
                      <input type="file" class="" name="icone" id="icone" />
                    </div>
                    <br>
                    <div class="button_del_feat_image full-width-button">
                      <a href="" accesskey="&H74">
                      <i class="fa fa-trash-o"></i>
                      Effacer l'image (F5)
                      </a>
                    </div>
                    <script>//pas fonctionnel
                    $(document).ready(function($){
    $('#submit_add_image').click(function(e){
        var copie = $('#featIMG').clone();
        copie.find('.full-width-button').html('icone');
        copie.find('.button_del_feat_image').html('rouge').css('color', 'red');
        copie.appendTo('body');
    });
});

                    </script>
                  </div> <!--fin feat_image-->
                </div>
              </div> <!--fin PHOTOANNONCE-->
            </div> <!-- fin container-->

          <div class="col-xs-12" name="cadrage_button">
            <div class="col-xs-5"></div>
            <div class="col-xs-2">
              <input type="submit" class="btn btn-block btn-primary" value="Publier">
            </div>
            <div class="col-xs-5"></div>
          </div> <!-- fin cadrage_button-->
        </form>
</div> <!--fin div class row-->
{% endblock %}
{% block javascripts %}

{{ parent() }}


<script src="//cdn.ckeditor.com/4.7.2/standard/ckeditor.js"></script>
<script type="text/javascript">
CKEDITOR.replace('description')

</script>
{{ parent() }}

<script>
$( document ).ready(function() {

    function initialize() {

     var options = {
      componentRestrictions: {country: "fr"}
     };

     var googlePlace  = document.getElementById('googlePlace');
     var Adresse      = $('#Adresse');
     var CodePostal   = $('#CodePostal');
     var Ville        = $('#Ville');

     var autocomplete = new google.maps.places.Autocomplete(googlePlace, options);

     google.maps.event.addListener(autocomplete,"place_changed", function() {

      var placeObj = autocomplete.getPlace();

      Adresse.val(placeObj.name);
      CodePostal.val(placeObj.address_components[6].long_name);
      Ville.val(placeObj.address_components[2].long_name);

     });
    }

    google.maps.event.addDomListener(window, 'load', initialize);

  });
  </script>

{% endblock %}
